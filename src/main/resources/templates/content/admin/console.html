<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/common}">

<!-- 해당 page 고유 pre-css 추가 -->
<th:block layout:fragment="pre-css"></th:block>

<!-- 해당 page 고유 post-css 추가 -->
<th:block layout:fragment="post-css"></th:block>

<!-- Content -->
<div class="d-flex flex-column flex-root" layout:fragment="content">
	<!--begin::Page-->
	<div class="d-flex flex-row flex-column-fluid page">
		<!-- aside fragment 사용 -->
		<th:block th:if="${isAside}">
			<th:block th:replace="@{'fragments/common/aside'} :: asideFragment"></th:block>
		</th:block>
		<!--begin::Wrapper-->
		<div class="d-flex flex-column flex-row-fluid wrapper" id="kt_wrapper">
			<!--begin::Content-->
			<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
				<!-- subHeader fragment 사용 -->
				<th:block th:replace="@{'fragments/common/subHeader'} :: subHeaderFragment(${title})"></th:block>
				<!--begin::Entry-->
				<div class="d-flex flex-column-fluid">
					<!--begin::Container-->
					<div class="container">
						<div class="row">
							<div class="col-lg-12">
								<!--begin::Card-->
								<div class="card card-custom">
									<div class="card-body">
										<div class="row">
											<!--begin::Workflow-->
											<div class="col-lg-4">
												<!--begin::Card-->
												<div class="card card-custom">
													<div class="card-header">
														<div class="card-title">
															<span class="card-icon">
																<i class="flaticon2-chat-1 text-primary"></i>
															</span>
															<h3 class="card-label">Workflow</h3>
														</div>
														<div class="card-toolbar">
															<button class="btn btn-primary btn-primary-icon btn-sm" id="workflow-create-btn">
																<span>
																	<i class="la la-search"></i>
																	<span>Create</span>
																</span>
															</button>
														</div>
													</div>
													<div class="card-body height-50" id="workflow">
														<!--begin::Table-->
														<div class="table-responsive">
															<table class="table table-hover mb-6" id="workflow-table">
																<thead>
																	<tr>
																		<th scope="col">ID</th>
																		<th scope="col">Entity</th>
																		<th scope="col">Name</th>
																	</tr>
																</thead>
																<tbody>
																	<tr>
																		<td scope="row" colspan="3">데이터가 없습니다.</td>
																	</tr>
																</tbody>
															</table>
														</div>
														<!--end::Table-->
													</div>
												</div>
												<!--end::Card-->
											</div>
											<!--end::Workflow-->
											<!--begin::Activity-->
											<div class="col-lg-4">
												<!--begin::Card-->
												<div class="card card-custom">
													<div class="card-header">
														<div class="card-title">
															<span class="card-icon">
																<i class="flaticon2-chat-1 text-primary"></i>
															</span>
															<h3 class="card-label">Activity<small id="activity-workflow-id">(none)</small></h3>
														</div>
														<div class="card-toolbar">
															<button class="btn btn-primary btn-primary-icon btn-sm" id="activity-create-btn">
																<span>
																	<i class="la la-search"></i>
																	<span>Create</span>
																</span>
															</button>
														</div>
													</div>
													<div class="card-body height-50" id="activity">
														<!--begin::Table-->
														<div class="table-responsive">
															<table class="table table-hover mb-6" id="activity-table">
																<thead>
																	<tr>
																		<th scope="col">ID</th>
																		<th scope="col">Name</th>
																	</tr>
																</thead>
																<tbody>
																	<tr>
																		<td scope="row" colspan="2">데이터가 없습니다.</td>
																	</tr>
																</tbody>
															</table>
														</div>
														<!--end::Table-->
													</div>
												</div>
												<!--end::Card-->
											</div>
											<!--end::Activity-->
											<!--begin::Task-->
											<div class="col-lg-4">
												<!--begin::Card-->
												<div class="card card-custom">
													<div class="card-header">
														<div class="card-title">
															<span class="card-icon">
																<i class="flaticon2-chat-1 text-primary"></i>
															</span>
															<h3 class="card-label">Task<small id="task-activity-id">(none)</small></h3>
														</div>
														<div class="card-toolbar">
															<button class="btn btn-primary btn-primary-icon btn-sm" id="task-create-btn">
																<span>
																	<i class="la la-search"></i>
																	<span>Create</span>
																</span>
															</button>
														</div>
													</div>
													<div class="card-body height-50" id="task">
														<!--begin::Table-->
														<div class="table-responsive">
															<table class="table table-hover mb-6" id="task-table">
																<thead>
																	<tr>
																		<th scope="col">ID</th>
																		<th scope="col">Name</th>
																	</tr>
																</thead>
																<tbody>
																	<tr>
																		<td scope="row" colspan="2">데이터가 없습니다.</td>
																	</tr>
																</tbody>
															</table>
														</div>
														<!--end::Table-->
													</div>
												</div>
												<!--end::Card-->
											</div>
											<!--end::Task-->
										</div>
									</div>
								</div>
								<!--end::Card-->
							</div>
						</div>

						<div class="row">
							<div class="col-lg-12">
								<!--begin::Card-->
								<div class="card card-custom">
									<div class="card-body">
										<div class="row">
											<!--begin::Form-->
											<div class="col-lg-6">
												<!--begin::Card-->
												<div class="card card-custom">
													<div class="card-header">
														<div class="card-title">
															<span class="card-icon">
																<i class="flaticon2-chat-1 text-primary"></i>
															</span>
															<h3 class="card-label">Form<small id="form-task-id">(none)</small></h3>
														</div>
														<div class="card-toolbar">
															<button class="btn btn-primary btn-primary-icon btn-sm" id="form-create-btn">
																<span>
																	<i class="la la-search"></i>
																	<span>Create</span>
																</span>
															</button>
														</div>
													</div>
													<div class="card-body height-50" id="form"></div>
												</div>
												<!--end::Card-->
											</div>
											<!--end::Form-->
											<!--begin::Control-->
											<div class="col-lg-6">
												<!--begin::Card-->
												<div class="card card-custom">
													<div class="card-header">
														<div class="card-title">
															<span class="card-icon">
																<i class="flaticon2-chat-1 text-primary"></i>
															</span>
															<h3 class="card-label">Control<small id="control-task-id">(none)</small></h3>
														</div>
														<div class="card-toolbar">
															<button class="btn btn-primary btn-primary-icon btn-sm" id="control-create-btn">
																<span>
																	<i class="la la-search"></i>
																	<span>Create</span>
																</span>
															</button>
														</div>
													</div>
													<div class="card-body height-50" id="control"></div>
												</div>
												<!--end::Card-->
											</div>
											<!--end::Control-->
										</div>
									</div>
								</div>
								<!--end::Card-->
							</div>
						</div>
					</div>
					<!--end::Container-->
				</div>
				<!--end::Entry-->
			</div>
			<!--end::Content-->
			<!-- footer fragment 사용 -->
			<th:block th:replace="@{'fragments/common/footer'} :: footerFragment"></th:block>
		</div>
		<!--end::Wrapper-->
	</div>
	<!--end::Page-->
</div>

<!-- 해당 page 고유 pre-script 추가 -->
<th:block layout:fragment="pre-script"></th:block>

<!-- 해당 page 고유 post-script 추가 -->
<th:block layout:fragment="post-script">
	<script type="text/javascript">
		jQuery(document).ready(function() {
	
			$('#workflow-create-btn').on('click', function(event) {
				alert('workflow create');
			});

			$('#activity-create-btn').on('click', function(event) {
				alert('activity create');
			});

			$('#task-create-btn').on('click', function(event) {
				alert('task create');
			});

			$('#form-create-btn').on('click', function(event) {
				alert('form create');
			});

			$('#control-create-btn').on('click', function(event) {
				alert('control create');
			});

			getWorkflowList();
		});

		var getWorkflowList = function() {

			$("#workflow").load( "/admin/workflow", {}, function(response, status, xhr) {

				$('#task-activity-id').text('(none)');
				$('#form-task-id').text('(none)');
				$('#control-task-id').text('(none)');

				$("#form").html("");
				$("#control").html("");
			});
		}

		var getActivityList = function(elements, wofId) {

			$("#activity").load( "/admin/activity", {'wofId' : wofId}, function(response, status, xhr) {

				if(status == 'success') {
					$('#activity-workflow-id').text('(' + wofId + ')');
				}

				$('#task-activity-id').text('(none)');
				$('#form-task-id').text('(none)');
				$('#control-task-id').text('(none)');

				$("#task").html("");
				$("#form").html("");
				$("#control").html("");
			});
		}

		var getTaskList = function(elements, actId) {

			$("#task").load( "/admin/task", {'actId' : actId}, function(response, status, xhr) {

				if(status == 'success') {
					$('#task-activity-id').text('(' + actId + ')');
				}

				$('#form-task-id').text('(none)');
				$('#control-task-id').text('(none)');

				$("#form").html("");
				$("#control").html("");
			});
		}

		var getTaskSubList = function(elements, tasId) {

			$("#form").load( "/admin/form", {'tasId' : tasId}, function(response, status, xhr) {

				if(status == 'success') {
					$('#form-task-id').text('(' + tasId + ')');
				}
			});

			$("#control").load( "/admin/control", {'tasId' : tasId}, function(response, status, xhr) {

				if(status == 'success') {
					$('#control-task-id').text('(' + tasId + ')');
				}
			});
		}
	</script>
</th:block>
</html>